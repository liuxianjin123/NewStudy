<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="../assets/js/vue.js"></script>
    <link rel="stylesheet" href="../element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>
<style>
   
</style>
<body >
    <h1>v-component（组件）</h1>
    <hr>
    <div id="app">
        <p>原本商品的价格是${price}元</p>
        <p><button @click="add">增加</button></p>
        <p><button onclick="redouceon()">删除 </button></p>
        <p><button onclick="onces()">只能删除一次 </button></p>
        <p><button onclick="off()">解绑事件 </button></p>
    </div>
</body>
<script>
    
   var app = new Vue({//构造器1
        delimiters:['${','}'],//改变
        el:'#app',
        data:{
          price:100   
        },
        methods:{
           add:function(){
               this.price++
            }
        }
    });
    app.$on('redouce',function(){//构造器里面的方法只是可以自增，但是想在构造器之外来让数据进行自检，可以用on来实现，
        this.price--;
    });
    app.$once('yici',function(){
        this.price--;
    });
    function redouceon(){//申明之后要用emit将方法放在全局调用。
        console.log("可以一直进行减");
        app.$emit('redouce');
    }
    function onces(){
        app.$emit('yici');
    }
    function off(){//也可以手动将申明好的点击事件关闭了。
        app.$off('yici');
    }
</script>
</html>  