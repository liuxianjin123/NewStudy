
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="layui/css/layui.css">
    <script src='layui/layui.all.js'></script>
    <title></title>
    <style type="text/css">
        html,body,form{
            height: 100%;
            overflow: hidden;
        }
        ::-webkit-scrollbar { /*滚动条整体样式*/
            width: 3px !important;; /*高宽分别对应横竖滚动条的尺寸*/
            height: 3px !important;;
            background: #ffffff !important;;
            cursor: pointer !important;
        }

        ::-webkit-scrollbar-thumb { /*滚动条里面小方块*/
            border-radius: 5px !important;
            -webkit-box-shadow: inset 0 0 5px rgba(240, 240, 240, .5) !important;;
            background: rgba(63, 98, 131, 0.8) !important;;
            cursor: pointer !important;
        }

        ::-webkit-scrollbar-track { /*滚动条里面轨道*/
            -webkit-box-shadow: inset 0 0 5px rgba(240, 240, 240, .5) !important;;
            border-radius: 0 !important;;
            background: rgba(240, 240, 240, 0.5) !important;;
            cursor: pointer !important;
        }
       .box{
           height: 100%;
           width:100%;
           padding: 10px;
           box-sizing: border-box;
           overflow-y: auto;
       }
       .layui-table tr td:last-child{
           width:30px;
            border:none;
           text-align: center;
       }
       .layui-table tr td:first-child i{
            vertical-align: sub;
            margin-right: 10px;
            font-size: 20px;
       }
       .layui-table tr td{   
           border: none;
           cursor: pointer;
       }
      .right{
         float: right;
         width: calc(100% - 301px);
         height: 100%;
      }
      .layui-layer {
         box-shadow:none;
         border-right: 1px solid #ddd;
      }
      .layui-tab {
         margin:  0; 
         
      }
      .layui-tab-content,.layui-tab-item{
         height: 100%;
         padding: 0;
      }
      .layui-layer-title {
          border-radius:0; 
          height: 40px;
      }
      .trs{
         transition: all .3s !important;
         color: #000;
         transform: scale(1.02);
         box-shadow: 0px 0px 7px 2px #4476a7;
      }
    </style>
</head>
<body>
    <form id="form1" runat="server">
        <div class="box">
             <table class="layui-table user-form">
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
               <tr data-source="http://news.baidu.com/"><td ><i class="layui-icon">&#xe63c;</i>麻醉记录单</td><td ><i class="layui-icon">&#xe602;</i></td></tr>
            </table>
        </div> 
        <div class="right">
            <div class="layui-tab" lay-filter="demo" lay-allowclose="true" style="width: 100%;height: 100%;">
               <ul class="layui-tab-title">
                  
               </ul>
               <div class="layui-tab-content">
                  
               </div>
            </div>
        </div>
    </form>
</body>
<script>
    layui.use('layer', function(){ //独立版的layer无需执行这一句
    var $ = layui.$;
        layer.open({
            title:'<i class="layui-icon">&#xe656;</i>&nbsp;&nbsp;当前患者存在的表单',
            type: 1
            ,id: 'er' //防止重复弹出
            ,content: $(".box")
            ,shade: 0 //不显示遮罩
            ,closeBtn :0,
            skin: 'layui-layer-lan',
            move: '.mine-move',
            offset: 'l',
            area: ['300px', '100%'],
            fixed: false
            ,yes: function(){
                layer.closeAll();
            }
        });
    });
   layui.use('element', function(){
      var $ = layui.jquery
      ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
      $(".user-form tr").click(function(){
         $(this).addClass("trs").siblings().removeClass("trs");
         var iid = "Pnum"+$(this).index();
         var id= $(this).index();
         var source = $(this).attr("data-source");
         var title = $(this).attr("data-source").replace(".pdf","");
         var isHas = true;
         $(".layui-tab-title li").each(function(){
            if($(this).attr("lay-id")==iid){
               isHas=false;
            }
         });
         if(isHas){
            element.tabAdd('demo', {
               title: title
               ,content: "<iframe style='width:100%;height: calc(100% - 40px);overflow:auto;border:none;' id='num"+id+"' src='"+source+"'></iframe>"
               ,id:iid
            })
         };
         $(".layui-tab-title li:last").addClass("layui-this").siblings().removeClass("layui-this");
         $(".layui-tab-content .layui-tab-item:last").addClass("layui-show").siblings().removeClass("layui-show");
      });
      $(document).on("click",".layui-tab-title li",function(){
         var thisID = $(this).attr("lay-id");
         console.log(thisID)
         $(".user-form tr").each(function(){
            if("Pnum"+$(this).index()==thisID){
               $(this).addClass("trs").siblings().removeClass("trs");
            }
         });
      });
      $('.site-demo-active').on('click', function(){
         var othis = $(this), type = othis.data('type');
         active[type] ? active[type].call(this, othis) : '';
      });
      //Hash地址的定位
      var layid = location.hash.replace(/^#test=/, '');
      element.tabChange('test', layid);
      
      element.on('tab(test)', function(elem){
         location.hash = 'test='+ $(this).attr('lay-id');
      });
   });
</script>
</html>
